<section>
  
  <mat-card class="mt-3 ">
    <mat-card-content>

      <section class="mx-5">

        <h2>
          @if(userForm.controls.userId.value == 0){ Agregar }
          @else { Editar }
        </h2>

        <form [formGroup]="userForm" (ngSubmit)="submitted$.next()">

          <input type="hidden" formControlName="userId">

          <div class="row">

            <div class="col-12 col-sm-12 col-md-4">
              <mat-form-field class="full-width" appearance="outline">
                <mat-label>Usuario</mat-label>
                <input matInput maxlength="50" placeholder="Ingrese Usuario" formControlName="username">
                @if(userForm.controls.username.errors?.['required']){ <mat-error>* Campo requerido.</mat-error> }
                @if(userForm.controls.username.errors?.['pattern']){ <mat-error>* El usuario no tiene un formato valido.</mat-error> }
              </mat-form-field>
            </div>
    
            <div class="col-12 col-sm-12 col-md-4">
              <mat-form-field class="full-width" appearance="outline">
                <mat-label>Nombre</mat-label>
                <input matInput maxlength="50" placeholder="Ingrese Nombre" formControlName="fisrtName">
                @if(userForm.controls.fisrtName.errors?.['required']){ <mat-error>* Campo requerido.</mat-error> }
                @if(userForm.controls.fisrtName.errors?.['pattern']){ <mat-error>* Formato no valido.</mat-error> }
              </mat-form-field>
            </div>
    
            <div class="col-12 col-sm-12 col-md-4">
              <mat-form-field class="full-width" appearance="outline">
                <mat-label>Apellido</mat-label>
                <input matInput maxlength="50" placeholder="Ingrese Apellido" formControlName="lastName">
                @if(userForm.controls.lastName.errors?.['required']){ <mat-error>* Campo requerido.</mat-error> }
                @if(userForm.controls.lastName.errors?.['pattern']){ <mat-error>* Formato no valido.</mat-error> }
              </mat-form-field>
            </div>
    
          </div>
    
          <div class="row">
            
            <div class="col-12 col-sm-12 col-md-4">
              <mat-form-field class="full-width" appearance="outline">
                <mat-label>Email</mat-label>
                <input id="userEmail" name="userEmail" matInput maxlength="50" type="email" placeholder="Ingrese Email" formControlName="email">
                @if(userForm.controls.email.errors?.['required']){ <mat-error>* Campo requerido.</mat-error> }
                @if(userForm.controls.email.errors?.['email']){ <mat-error>* Formato de correo no valido.</mat-error> }
              </mat-form-field>
            </div>
    
            <div class="col-12 col-sm-12 col-md-4">
              <mat-form-field class="full-width" appearance="outline">
                <mat-label>Contraseña</mat-label>
                <input id="userPassword" name="userPassword" matInput maxlength="50" type="password" placeholder="Ingrese Password" formControlName="password">
                @if(userForm.controls.password.errors?.['required']){ <mat-error>* Campo requerido.</mat-error> }
                @if(userForm.controls.password.errors?.['pattern']){ <mat-error>* La contraseña no tiene el formato correcto.</mat-error> }
              </mat-form-field>
            </div>
    
          </div>
  
          <div class="row justify-content-end">
            <div class="col-12 col-sm-12 col-md-4">
              <button mat-raised-button class="full-width" type="submit" color="primary">
                @if(disabledSubmit){
                  <mat-icon>
                      <mat-spinner class="white-spinner" color="accent" diameter="16"></mat-spinner>
                  </mat-icon>
                }
                @else {
                  <mat-icon>save</mat-icon>
                }
                Guardar
            </button>
            </div>
            <div class="col-12 col-sm-12 col-md-4">
              <button mat-raised-button class="full-width" type="button" color="warn" (click)="cancel()" >
                <mat-icon>cancel</mat-icon>
                Cancelar
            </button>
            </div>
          </div>

        </form>

      </section>

    </mat-card-content>
  </mat-card>
  
</section>